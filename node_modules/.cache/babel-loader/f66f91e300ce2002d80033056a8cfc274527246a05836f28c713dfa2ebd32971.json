{"ast":null,"code":"import axios from 'axios';\n\n// Re-export types for convenience\n\nconst API_BASE_URL = 'http://localhost:8080';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true,\n  // Important for session-based auth\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Auth endpoints\nexport const authApi = {\n  login: data => api.post('/auth/login', data).then(res => res.data),\n  register: data => api.post('/auth/register', data).then(res => res.data),\n  logout: () => api.post('/auth/logout').then(res => res.data),\n  getCurrentUser: () => api.get('/auth/me').then(res => res.data)\n};\n\n// Share endpoints\nexport const shareApi = {\n  getShares: (page = 0, size = 20, sort = 'recent') => api.get(`/shares?page=${page}&size=${size}&sort=${sort}`).then(res => res.data),\n  getShare: id => api.get(`/shares/${id}`).then(res => res.data),\n  createShare: data => api.post('/shares', data).then(res => res.data),\n  likeShare: id => api.post(`/shares/${id}/like`).then(res => res.data),\n  unlikeShare: id => api.delete(`/shares/${id}/like`).then(res => res.data),\n  searchShares: (query, page = 0, size = 20) => api.get(`/shares/search?q=${encodeURIComponent(query)}&page=${page}&size=${size}`).then(res => res.data)\n};\n\n// User endpoints\nexport const userApi = {\n  getMyShares: (page = 0, size = 20) => api.get(`/users/me/shares?page=${page}&size=${size}`).then(res => res.data),\n  getUserShares: (username, page = 0, size = 20) => api.get(`/users/${username}/shares?page=${page}&size=${size}`).then(res => res.data)\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","withCredentials","headers","authApi","login","data","post","then","res","register","logout","getCurrentUser","get","shareApi","getShares","page","size","sort","getShare","id","createShare","likeShare","unlikeShare","delete","searchShares","query","encodeURIComponent","userApi","getMyShares","getUserShares","username"],"sources":["C:/Users/enest/IdeaProjects/tupalle/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { \r\n  Share, \r\n  CreateShareRequest, \r\n  LoginRequest, \r\n  RegisterRequest, \r\n  AuthResponse, \r\n  ApiResponse \r\n} from '../types';\r\n\r\n// Re-export types for convenience\r\nexport type { Share, AuthResponse, ApiResponse, CreateShareRequest, LoginRequest, RegisterRequest };\r\n\r\nconst API_BASE_URL = 'http://localhost:8080';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  withCredentials: true, // Important for session-based auth\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Auth endpoints\r\nexport const authApi = {\r\n  login: (data: LoginRequest): Promise<AuthResponse> =>\r\n    api.post('/auth/login', data).then(res => res.data),\r\n  \r\n  register: (data: RegisterRequest): Promise<AuthResponse> =>\r\n    api.post('/auth/register', data).then(res => res.data),\r\n  \r\n  logout: (): Promise<AuthResponse> =>\r\n    api.post('/auth/logout').then(res => res.data),\r\n  \r\n  getCurrentUser: (): Promise<AuthResponse> =>\r\n    api.get('/auth/me').then(res => res.data),\r\n};\r\n\r\n// Share endpoints\r\nexport const shareApi = {\r\n  getShares: (page = 0, size = 20, sort = 'recent'): Promise<ApiResponse<Share>> =>\r\n    api.get(`/shares?page=${page}&size=${size}&sort=${sort}`).then(res => res.data),\r\n  \r\n  getShare: (id: string): Promise<Share> =>\r\n    api.get(`/shares/${id}`).then(res => res.data),\r\n  \r\n  createShare: (data: CreateShareRequest): Promise<Share> =>\r\n    api.post('/shares', data).then(res => res.data),\r\n  \r\n  likeShare: (id: string): Promise<void> =>\r\n    api.post(`/shares/${id}/like`).then(res => res.data),\r\n  \r\n  unlikeShare: (id: string): Promise<void> =>\r\n    api.delete(`/shares/${id}/like`).then(res => res.data),\r\n  \r\n  searchShares: (query: string, page = 0, size = 20): Promise<ApiResponse<Share>> =>\r\n    api.get(`/shares/search?q=${encodeURIComponent(query)}&page=${page}&size=${size}`).then(res => res.data),\r\n};\r\n\r\n// User endpoints\r\nexport const userApi = {\r\n  getMyShares: (page = 0, size = 20): Promise<ApiResponse<Share>> =>\r\n    api.get(`/users/me/shares?page=${page}&size=${size}`).then(res => res.data),\r\n  \r\n  getUserShares: (username: string, page = 0, size = 20): Promise<ApiResponse<Share>> =>\r\n    api.get(`/users/${username}/shares?page=${page}&size=${size}`).then(res => res.data),\r\n};\r\n\r\nexport default api;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}